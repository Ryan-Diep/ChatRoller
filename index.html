<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <title>ChatRoller</title>
        <link rel="stylesheet" href="index.css">
    </head>

    <body>
        <div id = "title">
            <h1>This is ChatRoller</h1>
        </div>
        
        <p>These are the responses below</p>
        <div id="message"></div>
        <script>
        let previousPrediction = '';

        function displayPrediction(prediction) {
        if (prediction !== previousPrediction) {
            const messageDiv = document.getElementById('message');
            const predictionNode = document.createTextNode(prediction);
            const brNode = document.createElement('br');
            messageDiv.appendChild(predictionNode);
            messageDiv.appendChild(brNode);
            previousPrediction = prediction;
        }
        }

        setInterval(() => {
        fetch('/prediction')
            .then(response => response.text())
            .then(prediction => {
            displayPrediction(prediction);
            })
            .catch(error => console.error(error));
        }, 15000);
    </script>
    </body>

</html>